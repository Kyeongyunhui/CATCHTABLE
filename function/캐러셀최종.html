<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .carousel_container {
            position: relative;
            overflow: hidden;
            margin: auto;
            width: 100%;
            max-width: 1425px;
            /* 285px × 5개 */
        }

        .carousel_track {
            display: flex;
            transition: transform 0.5s ease;
            will-change: transform;
        }

        /* 각 이미지 아이템 */
        .recommended_restaurant {
            box-sizing: border-box;
            min-width: 285px;
            height: 529px;
            flex-shrink: 0;
            box-shadow: 0px 3px 5px 0px rgba(100, 100, 100, 0.5);
            ;
            background-color: #fff;
            border-radius: 30px;
            transform: scale(90%);
        }

        .recommended_restaurant img {
            width: 100%;
            height: 327px;
            object-fit: cover;
        }

        .restaurant_text {
            margin: 12px;
        }

        .restaurant_text>h3 {
            font-size: 24px;
            font-weight: 800;
        }

        .restaurant_text>p {
            display: flex;
            align-items: center;
        }

        .restaurant_sub_contents>span>img {
            display: block;
            width: 20px;
            height: 20px;
        }

        .restaurant_sub_contents>span {
            font-weight: 800;
            margin-right: 6px;
            color: #000;
        }

        .restaurant_sub_contents {
            color: #797979;
            margin: 6px 0px;
        }

        .restaurant_main_contents {
            margin-top: 20px;
            line-height: 18px;
        }

        .nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0);
            color: white;
            border: none;
            padding: 15px;
            cursor: pointer;
            font-size: 18px;
            z-index: 10;
        }

        .nav.carousel_left {
            left: 10px;
        }

        .nav.carousel_right {
            right: 10px;
        }

        .carousel_dot {
            text-align: center;
            margin-top: 10px;
        }

        .carousel_dot .dot {
            display: inline-block;
            width: 12px;
            height: 12px;
            margin: 5px;
            background: #ccc;
            border-radius: 50%;
            cursor: pointer;
        }

        .carousel_dot .dot.active {
            background: #FF3D00;

        }

        /* 반응형 */
        @media (max-width: 1440px) {

            .carousel_container {
                position: relative;
                overflow: hidden;
                margin: auto;
                width: 100%;
                max-width: 900px;
            }

            .recommended_restaurant {
                width: calc(100% / 3);
            }
        }

        @media (max-width: 960px) {
            .carousel_container {
                position: relative;
                overflow: hidden;
                margin: auto;
                width: 100%;
                max-width: 600px;
            }

            .recommended_restaurant {
                width: 50%;
            }

            .nav,
            .carousel_dot {
                display: none;
            }
        }

        @media (max-width: 640px) {
            .carousel_container {
                position: relative;
                overflow: hidden;
                margin: auto;
                width: 100%;
                max-width: 300px;
            }

            .recommended_restaurant {
                width: 100%;
            }
        }
    </style>
</head>

<body>
    <div class="carousel_container">
        <div class="carousel_track">
            <div class="recommended_restaurant">
                <img src="../img/sec3_차경.png" alt="차경">
                <div class="restaurant_text">
                    <h3>
                        차경
                    </h3>
                    <p class="restaurant_sub_contents">
                        <span>
                            <img src="../img/icon_star.png" alt="">
                        </span>
                        <span>
                            4.8
                        </span>
                        다이닝바 · 해방촌
                    </p>
                    <p class="restaurant_main_contents">
                        서울의 경치를 빌려와 제철 식재 <br>
                        료를 사용한 한식 베이스 요리를 <br>
                        와인, 전통주와 함께 즐길 수 있는 <br>
                        다이닝바
                    </p>
                </div>
            </div>
            <div class="recommended_restaurant">
                <img src="../img/sec3_숙성회화도.png" alt="숙성회 화도">
                <div class="restaurant_text">
                    <h3>
                        숙성회 화도
                    </h3>
                    <p class="restaurant_sub_contents">
                        <span>
                            <img src="../img/icon_star.png" alt="">
                        </span>
                        <span>
                            4.9
                        </span>
                        회,사시미 · 상수
                    </p>
                    <p class="restaurant_main_contents">
                        숙성회 전문점 화도 <br>
                        ◇ 2월 11일, 25일 휴무 ◇
                    </p>
                </div>
            </div>
            <div class="recommended_restaurant">
                <img src="../img/sec3_정다운식당.png" alt="정다운 식당">
                <div class="restaurant_text">
                    <h3>
                        정다운 식당
                    </h3>
                    <p class="restaurant_sub_contents">
                        <span>
                            <img src="../img/icon_star.png" alt="">
                        </span>
                        <span>
                            4.4
                        </span>
                        백반, 가정식 · 여수
                    </p>
                    <p class="restaurant_main_contents">
                        엄마의 손맛으로 엄선된 싱싱한 <br>
                        재료를 사용한 여수 게장 맛집
                    </p>
                </div>
            </div>
            <div class="recommended_restaurant">
                <img src="../img/sec3_아치서울.png" alt="아치서울 용산점">
                <div class="restaurant_text">
                    <h3>
                        아치서울 용산점
                    </h3>
                    <p class="restaurant_sub_contents">
                        <span>
                            <img src="../img/icon_star.png" alt="">
                        </span>
                        <span>
                            4.6
                        </span>
                        와인 · 용산
                    </p>
                    <p class="restaurant_main_contents">
                        빈티지한 감성에 모던함을 더한 <br>
                        고급스러운 인테리어로 유럽 여행 <br>
                        중에 만난듯한 여유로운 분위기의 <br>
                        레스토랑을 표현했습니다.
                    </p>
                </div>
            </div>
            <div class="recommended_restaurant">
                <img src="../img/sec3_스시소기.png" alt="스시소기">
                <div class="restaurant_text">
                    <h3>
                        스시소기
                    </h3>
                    <p class="restaurant_sub_contents">
                        <span>
                            <img src="../img/icon_star.png" alt="">
                        </span>
                        <span>
                            4.8
                        </span>
                        스시오마카세 · 가로수길
                    </p>
                    <p class="restaurant_main_contents">
                        친절함과 가성비를 모두 갖춘 <br>
                        가로수길 스시야
                    </p>
                </div>
            </div>

            <div class="recommended_restaurant">
                <img src="../img/sec03_무아.png" alt="무아">
                <div class="restaurant_text">
                    <h3>
                        무아
                    </h3>
                    <p class="restaurant_sub_contents">
                        <span>
                            <img src="../img/icon_star.png" alt="">
                        </span>
                        <span>
                            4.9
                        </span>
                        가이세키오마카세 · 신사
                    </p>
                    <p class="restaurant_main_contents">
                        '눈 앞에 펼쳐진 계절 그 자체가 하나 <br>
                        의 작품이다', 전시와 함께 즐기는 모 <br>
                        던 가이세키 다이닝 Mooaa입니다.
                    </p>
                </div>
            </div>
            <div class="recommended_restaurant">
                <img src="../img/sec03_플랫나인.png" alt="플랫나인">
                <div class="restaurant_text">
                    <h3>
                        플랫나인
                    </h3>
                    <p class="restaurant_sub_contents">
                        <span>
                            <img src="../img/icon_star.png" alt="">
                        </span>
                        <span>
                            4.9
                        </span>
                        다이닝바 · 강남
                    </p>
                    <p class="restaurant_main_contents">
                        매일 열리는 재즈 공연과 다양한 음 <br>
                        식, 9가지 시그니처 칵테일이 있는 <br>
                        재즈바
                    </p>
                </div>
            </div>
            <div class="recommended_restaurant">
                <img src="../img/sec03_스테이키스트.png" alt="Steakist 스테이키스트">
                <div class="restaurant_text">
                    <h3>
                        Steakist 스테이키스트
                    </h3>
                    <p class="restaurant_sub_contents">
                        <span>
                            <img src="../img/icon_star.png" alt="">
                        </span>
                        <span>
                            5.0
                        </span>
                        스테이크,립 · 연남
                    </p>
                    <p class="restaurant_main_contents">
                        생일, 기념일에 잔잔한 추억을 더하 <br>
                        는 한우 스테이크 하우스. 화학첨가 <br>
                        물에 기대지 않고 손맛의 정성을 더 <br>
                        하여 준비합니다.
                    </p>
                </div>
            </div>
            <div class="recommended_restaurant">
                <img src="../img/sec03_디베르티티.png" alt="디베르티티">
                <div class="restaurant_text">
                    <h3>
                        디베르티티
                    </h3>
                    <p class="restaurant_sub_contents">
                        <span>
                            <img src="../img/icon_star.png" alt="">
                        </span>
                        <span>
                            4.8
                        </span>
                        코스요리 · 석촌
                    </p>
                    <p class="restaurant_main_contents">
                        석촌동 작은 골목의 조용하고 편안 <br>
                        한 공간에서 선보이는 특별한 7가 <br>
                        지 요리와 귀여운 레터링이 있는 캐 <br>
                        주얼 다이닝
                    </p>
                </div>
            </div>
            <div class="recommended_restaurant">
                <img src="../img/sec03_라망시크레.png" alt="라망시크레">
                <div class="restaurant_text">
                    <h3>
                        라망시크레
                    </h3>
                    <p class="restaurant_sub_contents">
                        <span>
                            <img src="../img/icon_star.png" alt="">
                        </span>
                        <span>
                            4.8
                        </span>
                        컨템포러리 · 회현
                    </p>
                    <p class="restaurant_main_contents">
                        좋은 재료와 그 재료를 공급하는 생 <br>
                        산자의 마음을 음식에 담아 소통하 <br>
                        는 손종원 셰프의 '현대 한국의 양식'
                    </p>
                </div>
            </div>

            <div class="recommended_restaurant">
                <img src="../img/sec03_모나크비스트로.png" alt="모나크비스트로">
                <div class="restaurant_text">
                    <h3>
                        모나크비스트로
                    </h3>
                    <p class="restaurant_sub_contents">
                        <span>
                            <img src="../img/icon_star.png" alt="">
                        </span>
                        <span>
                            4.5
                        </span>
                        다이닝바 · 잠원
                    </p>
                    <p class="restaurant_main_contents">
                        한강 최고의 뷰를 자랑하는 <br>
                        도심속의 힐링공간 서양식 및 한식 <br>
                        이 가미된 퓨전스타 일의 음식과 함 <br>
                        께 하는 캐쥬얼 다이닝.
                    </p>
                </div>
            </div>
            <div class="recommended_restaurant">
                <img src="../img/sec03_우노네.png" alt="우노네">
                <div class="restaurant_text">
                    <h3>
                        우노네
                    </h3>
                    <p class="restaurant_sub_contents">
                        <span>
                            <img src="../img/icon_star.png" alt="">
                        </span>
                        <span>
                            4.7
                        </span>
                        이탈리아 음식 · 상암
                    </p>
                    <p class="restaurant_main_contents">
                        클래식한 이탈리안 요리를 추구하 <br>
                        는 상암동 작은 골목 안에 숨어있는 <br>
                        모두를 위한, 이탈리안 레스토랑
                    </p>
                </div>
            </div>
            <div class="recommended_restaurant">
                <img src="../img/sec03_토우베.png" alt="토우베">
                <div class="restaurant_text">
                    <h3>
                        토우베
                    </h3>
                    <p class="restaurant_sub_contents">
                        <span>
                            <img src="../img/icon_star.png" alt="">
                        </span>
                        <span>
                            4.7
                        </span>
                        프랑스음식 · 신사
                    </p>
                    <p class="restaurant_main_contents">
                        가로수길 트렌디하고 가성비 있는 <br>
                        재패니스 프렌치 다이닝
                    </p>
                </div>
            </div>
            <div class="recommended_restaurant">
                <img src="../img/sec03_미미옥.png" alt="미미옥 신용산점">
                <div class="restaurant_text">
                    <h3>
                        미미옥 신용산점
                    </h3>
                    <p class="restaurant_sub_contents">
                        <span>
                            <img src="../img/icon_star.png" alt="">
                        </span>
                        <span>
                            4.7
                        </span>
                        샤브샤브 · 용산
                    </p>
                    <p class="restaurant_main_contents">
                        닭, 소고기, 버섯을 따로 육수 내어 블 <br>
                        렌딩한 맛있는 육수와 우리나라 허브 <br>
                        라 불리우는 방아잎을 사용한 샤브샤<br>
                        브를 요리합니다.
                    </p>
                </div>
            </div>
            <div class="recommended_restaurant">
                <img src="../img/sec03_강별성수.png" alt="강별 성수">
                <div class="restaurant_text">
                    <h3>
                        강별 성수
                    </h3>
                    <p class="restaurant_sub_contents">
                        <span>
                            <img src="../img/icon_star.png" alt="">
                        </span>
                        <span>
                            4.8
                        </span>
                        다이닝바 · 성수
                    </p>
                    <p class="restaurant_main_contents">
                        저희 집에 당신의 소중한 하루를 초 <br>
                        대합니다. We invite you to <br>
                        spend your precious day at <br>
                        our home
                    </p>
                </div>
            </div>
        </div>
        <button class="nav carousel_left"><img src="../img/icon_prev.png" alt="이전"></button>
        <button class="nav carousel_right"><img src="../img/icon_next.png" alt="다음"></button>

        <div class="carousel_dot"></div>
    </div>
    <script>
        const track = document.querySelector(".carousel_track");
        const slides = Array.from(track.children);
        const prevBtn = document.querySelector(".nav.carousel_left");
        const nextBtn = document.querySelector(".nav.carousel_right");
        const dotsContainer = document.querySelector(".carousel_dot");

        let currentIndex = 0;
        let slideCount = slides.length;
        let slideWidth = slides[0].offsetWidth;
        let visibleSlides = 5;
        let moveSlides = 5;
        let dotCount = 3;
        let interval;
        let resizeTimeout = null;

        function updateSliderSettings() {
            const width = window.innerWidth;
            if (width < 640) {
                visibleSlides = 1;
                moveSlides = 1;
                dotCount = 0;
            } else if (width < 960) {
                visibleSlides = 2;
                moveSlides = 1;
                dotCount = 0;
            } else if (width < 1440) {
                visibleSlides = 3;
                moveSlides = 3;
                dotCount = Math.ceil(slideCount / 3);
            } else {
                visibleSlides = 5;
                moveSlides = 5;
                dotCount = Math.ceil(slideCount / 5);
            }

            slideWidth = slides[0].offsetWidth;
        }

        function cloneSlides() {
            const head = slides.slice(0, visibleSlides).map(el => el.cloneNode(true));
            const tail = slides.slice(-visibleSlides).map(el => el.cloneNode(true));

            head.forEach(el => track.appendChild(el));
            tail.reverse().forEach(el => track.insertBefore(el, track.firstChild));
        }

        function setInitialPosition() {
            track.style.transform = `translateX(${-slideWidth * visibleSlides}px)`;
            currentIndex = 0;
        }

        function createDots() {
            dotsContainer.innerHTML = "";
            if (dotCount === 0) return;

            for (let i = 0; i < dotCount; i++) {
                const dot = document.createElement("span");
                dot.classList.add("dot");
                if (i === 0) dot.classList.add("active");
                dot.dataset.index = i;
                dot.addEventListener("click", () => {
                    moveToSlide(i * moveSlides);
                });
                dotsContainer.appendChild(dot);
            }
        }

        function updateDots() {
            const dots = dotsContainer.querySelectorAll(".dot");
            dots.forEach(dot => dot.classList.remove("active"));
            const activeIndex = Math.floor(currentIndex / moveSlides) % dotCount;
            if (dots[activeIndex]) {
                dots[activeIndex].classList.add("active");
            }
        }

        function moveToSlide(index) {
            currentIndex = index;
            track.style.transition = "transform 0.5s ease";
            track.style.transform = `translateX(${-(currentIndex + visibleSlides) * slideWidth}px)`;
            updateDots();
        }

        function nextSlide() {
            currentIndex += moveSlides;
            track.style.transition = "transform 0.5s ease";
            track.style.transform = `translateX(${-(currentIndex + visibleSlides) * slideWidth}px)`;

            setTimeout(() => {
                if (currentIndex >= slideCount) {
                    currentIndex = 0;
                    track.style.transition = "none";
                    track.style.transform = `translateX(${-slideWidth * visibleSlides}px)`;
                }
                updateDots();
            }, 510);
        }

        function prevSlide() {
            currentIndex -= moveSlides;
            track.style.transition = "transform 0.5s ease";
            track.style.transform = `translateX(${-(currentIndex + visibleSlides) * slideWidth}px)`;

            setTimeout(() => {
                if (currentIndex < 0) {
                    currentIndex = slideCount - moveSlides;
                    track.style.transition = "none";
                    track.style.transform = `translateX(${-(currentIndex + visibleSlides) * slideWidth}px)`;
                }
                updateDots();
            }, 510);
        }

        function startAutoSlide() {
            clearInterval(interval);
            interval = setInterval(() => {
                nextSlide();
            }, 3000);
        }

        function initSlider() {
            updateSliderSettings();
            cloneSlides();
            setInitialPosition();
            createDots();
            startAutoSlide();
            updateDots();
        }

        prevBtn.addEventListener("click", () => {
            prevSlide();
            startAutoSlide(); // reset timer
        });
        nextBtn.addEventListener("click", () => {
            nextSlide();
            startAutoSlide(); // reset timer
        });

        window.addEventListener("resize", () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                location.reload(); // 리사이즈 대응 위해 새로고침
            }, 300);
        });

        initSlider();
    </script>

</body>

</html>